# -*- coding: utf-8 -*-
"""
This module gives access to the console.
"""

import PytoClasses
import mainthread

__PyContentViewController__ = PytoClasses.PyContentViewController
def __console__():
    return __PyContentViewController__.shared.viewController.viewControllers[0]

def __clear__() -> None:
    __console__().textView.text = ""
    __console__().console = ""

def clear():
    """
    Clears the console.
    """
    mainthread.sync(__clear__)

# MARK: - I/O

__PyInputHelper__ = PytoClasses.PyInputHelper

def input(prompt="Input"):
    """
    Requests input with given prompt.
        
    Args:
        prompt: Text printed before the user's input without a newline.
    """
    
    __PyInputHelper__.userInput = None
    
    __PyInputHelper__.showAlertWithPrompt(prompt)
    
    while (__PyInputHelper__.userInput == None):
        continue
    
    userInput = __PyInputHelper__.userInput
    __PyInputHelper__.userInput = None
    return str(userInput)

__PyOutputHelper__ = PytoClasses.PyOutputHelper

def print(*objects, sep=None, end=None):
    """
    Prints to the Pyto console, not to the stdout. Works as the builtin `print` function but does not support printing to a custom file. Pyto catches by default the stdout and the stderr, so use the builtin function instead. This function is mainly for internal use.
    """
    if sep is None:
        sep = ' '
    if end is None:
        end = '\n'
    array = map(str, objects)
    __PyOutputHelper__.print(sep.join(array)+end)

# MARK: - Alerts

Alert = PytoClasses.Alert
"""
    A class representing an alert.
    
    Example:
    def ok() -> None:
    print("Good Bye!")
    
    alert = Pyto.Alert.initWithTitle("Hello", message="Hello World!")
    alert.addActionWithTitle("Ok", handler=ok)
    alert.addCancelActionWithTitle("Cancel", handler=None)
    alert.show()
    """
